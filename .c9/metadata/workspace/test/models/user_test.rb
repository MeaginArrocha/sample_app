{"filter":false,"title":"user_test.rb","tooltip":"/test/models/user_test.rb","undoManager":{"mark":10,"position":10,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":30,"column":5},"end":{"row":31,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":2},"end":{"row":32,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":2},"end":{"row":32,"column":60}},"text":"  test \"email validation should accept valid addresses\" do"},{"action":"insertText","range":{"start":{"row":32,"column":60},"end":{"row":33,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":33,"column":0},"end":{"row":39,"column":0}},"lines":["    valid_addresses = %w[user@example.com USER@foo.COM A_US-ER@foo.bar.org","                         first.last@foo.jp alice+bob@baz.cn]","    valid_addresses.each do |valid_address|","      @user.email = valid_address","      assert @user.valid?, \"#{valid_address.inspect} should be valid\"","    end"]},{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":39,"column":5},"end":{"row":40,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":2},"end":{"row":41,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":41,"column":0},"end":{"row":41,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":41,"column":2},"end":{"row":41,"column":44}},"text":"test \"email addresses should be unique\" do"},{"action":"insertText","range":{"start":{"row":41,"column":44},"end":{"row":42,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":42,"column":0},"end":{"row":45,"column":0}},"lines":["    duplicate_user = @user.dup","    @user.save","    assert_not duplicate_user.valid?"]},{"action":"insertText","range":{"start":{"row":45,"column":0},"end":{"row":45,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":42,"column":30},"end":{"row":43,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":43,"column":0},"end":{"row":43,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":4},"end":{"row":43,"column":47}},"text":"  duplicate_user.email = @user.email.upcase"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":43,"column":4},"end":{"row":43,"column":5}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":43,"column":2},"end":{"row":43,"column":4}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":43,"column":2},"end":{"row":43,"column":3}},"text":" "}]}]]},"ace":{"folds":[],"scrolltop":325.9090657234192,"scrollleft":0,"selection":{"start":{"row":42,"column":8},"end":{"row":42,"column":8},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416069554161,"hash":"53b2a0733824ccbfcfe8bbb4db24c99e15858a7c"}